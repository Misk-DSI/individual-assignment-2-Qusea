# DSI 2022: Individual Assignment #2

Your instructors will use this public repo, generated by GitHub Classrooms, to review your submission. Please read the following instructions before beginning the assignment. Although working with your classmates is a great way to solve problems, this is an _individual assignment_ -- cheating and plagerism will not be tollerated!

Your assignment will be graded on the completion of the following steps (standard, technical assessment) and the steps you took to explore the data and present your results (unique, personal assessment).

## Learning Objectives

To accomplish the tasks in this assignment, you'll demonstrate your ability to:

- Understand and use new R packages for data munging and EDA
- Produce meaningful, useful & readable reports containing text, data visualization and tables rendered from an R source
- Communicate appropriate insights obtained from your analysis.  

## Notes on code

- Where possible, use tidyverse packages, functions and syntax.
- Clean up your scripts and reports  (`R`, `Rmd` & `html` files) before submission.
- You will be graded on your ability to communicate useful insights in a report format.

## Submission

To complete the assignment, your repo should contain the following files:

```
./
│   individual-assignment-2-scavetta.Rproj
│   menu_report.html    
│   README.md
│   
└───archive/
│   │   assignment.md
│   
└───data/
│   │   menu.csv
│   
└───src/
    │   menu_EDA.R
    │   menu_report.Rmd
```

## 1 - Getting started

### 1.1 - Create a local repo and add a data sub-directory

1. Create a local repo from this remote repo. e.g. `~/Documents/misk_skills/dsi_2022-02/individual-assignment-2-<name>`. (`<name>` is your GitHub handle, which was set when this repo was created).
1. Create a `data` sub-directory in this repo and make it your working directory.

### 1.2 - Obtain data: Nutrition Values from a McDonald's Menu  

1. Using the Kaggle API, download the `mcdonalds/nutrition-facts` dataset into the data sub-directory.
2. First use `unzip` to unzip the .zip file, then use `rm` to remove it.

You should be left with a single file: `menu.csv`. This contains the nutritional values scrapped from the McDonald's website. Unfortunatly, further details of the data's source were not provided.

### 1.3 - RStudio project

1. Start your Rstudio server Docker container ([`http://127.0.0.1:8787/`](http://127.0.0.1:8787/)). Create a new project using `File > New Project ... > Existing Directory` and selecting the local directory `individual-asignment-2-<name>`. Since we mounted the local directory `dsi_2022-02`, which contains your individual assignment, it should be available in your docker container. You should now have a new R session with an empty environment and a new `│   individual-asignment-2-<name>.Rproj` file in your directory. 
4. The working directory should be the path in your container where the `*.Rproj` file is located, e.g `"/home/rstudio/Documents/individual-asignment-2-<name>"`. Check that this is true by running `getwd()` in the console to _get the working directory_ of your project. If It's incorrect begin over and pay close attention to which directory you are actually working in. 
5. Add, commit and push your changes to the remote repo. (You'll notice that this is _inside_ our course data repo. Nexting repo's is not recommended, but since we've already mounted this directory onto our docker container, it's convenient, and since we have `individual*` in the `.gitignore`, it won't be detected.)

## 2 - R script for EDA and developing insights

Using the discussions from class, begin exploring the dataset using a plain R script. Consider what each variable is measuring, their univariate & bivariate distributions and trends. What are the most informative, interesting and/or important aspects of this data set? What research question will it help you answer? Consult the [dataset's page](https://www.kaggle.com/datasets/mcdonalds/nutrition-facts) on Kagggle and the associated code notebooks if you need inspiration.

1. Create an R script: `./src/menu_EDA.R` in (`src` is short for _source_ and contains the raw scripts).
1. Initialize the necessary packages in your script.
1. Import the data using `{tidyr}` functions.
1. The dataframe's names will be really inconvenient, e.g. `Vitamin A (% Daily Value)`. Check out the `{[janitor](http://sfirke.github.io/janitor/)}` package. It contains a function to automagically _clean names_ of a dataframe, e.g. `vitamin_a_percent_daily_value`.
1. Proceed with exploring your data -- providing code and short comments. Use EDA techniques discussed in class to identify patterns and relationships among your variables.

## 3 - Write a report

Once you have a grasp of your data and research question, assemble what you'd like to include in an HTML report and begin composing it as an R Markdown document. Your report will be much shorter than your R script, since it **will contain only the inportant information** for us to understand what you have discovered in the dataset.

1. Create an R Markdown document with some starter code using `File > New File ... > R Markdown ...` and selecting `HTML` in the Documents tab (default). 
1. Save your document as `./src/menu_report.Rmd`.
1. Add the followint to the YAML header to define a destination directory as one level higher than where the document exists:
  ```
  knit: (function(input, ...) {
      rmarkdown::render(
        input,
        output_dir = "../"
      )
    })
  ```
1. Use Markdown to create the following level 1 headers and add the corresponding information:
  - **Data** - Include a static markdown table listing all (or only the most interesting if you're short on time) key variables *and* what it is. 
  - **EDA** - Include appropriate data visualizations from your EDA and text explaining what you observed.
  - **Conclusion** - Include a short text describing your overall insights drawn from examining the data. 

## 4 - The `{here}` package

R Markdown documents, like R scripts, are composed while using R in _interactive_ mode. When they are _rendered_ to HTML, a new environment is created. The working directory in interactive mode may not be the same as when the document is rendered, which has consequences for importing data files.

1. Use functions from the `{[here](https://here.r-lib.org/)}` package to define the top-level directory in your RStudio project as the working directory for `menu_report.Rmd`. 

## 5 - Interactive tables

There are many packages and options for creating interactive HTML tables of a `data.frame` class object. This [table gallery](https://community.rstudio.com/c/table-gallery/64?tags=interactive-html) contains some elaborate examples). The [`{gt}`](https://gt.rstudio.com/), [`{DT}`](https://rstudio.github.io/DT/), [`{reactable}`](https://glin.github.io/reactable/) and [`{kableExtra}`](https://haozhu233.github.io/kableExtra/) packages are all in popular use and a more exhaustive list of helpful packages can be found [here](https://bookdown.org/yihui/rmarkdown-cookbook/table-other.html).

1. Research options for making interactive tables (using R Markdown rendered to HTML). 
1. Decide on how you'd like to present a table of your dataset.
2. Include a interactive table of your data below the static table in the **Data** section that describes the dataset's variables.  

## 6 - Deliver your report 

Turn your HTML report into a live website.

### 6.1 Modify the `README.md` file

1. Move this assignment description to `./archive/assignment.md`. 
1. In the top-level directory, create a new `./README.md` file.
1. Provide a title and short text description of the repo's contents in `README.md`.

### 6.2 Convert your repo to a viewable HTML page

GitHub hosts HTML pages in public repos, making them accessible as live web-pages ([details](https://docs.github.com/en/pages)).

1. Create a `gh-pages` branch off of `main`.
  - `git branch gh-pages`
  - `git checkout gh-pages`
1. Modify `README.md` file.
  - Add an HTML link the repo, using the repo's URL
  - Add relative links to other documents in the repo using:
    - `[menu report](./menu_report.html)` to link to the file `menu_report.html` in the top-level directory.
1. Add, commit and push your repo 
  - `git add .`
  - `git commit -m "add gh-pages branch"`
  - `git push --set-upstream origin gh-pages`
1. Confirm that your pages are live at the following location (replacing `<repo>` accodingly):
  - `http://Misk-DSI.github.io/<repo>`
